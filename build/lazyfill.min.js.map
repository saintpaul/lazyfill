{"version":3,"file":"lazyfill.min.js","sources":["lazyfill.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","Component","element","handler","deferred","this","callback","prototype","execHandler","currentMediaQuery","execCallbackOnce",2,"loadComponent","component","isLoaded","deferredComponents","push","loadedComponents","showDeferredComponents","pop","requestAnimFrame","processComponentsWithPlugin","plugin","elements","querySelectorAll","eagerSelector","defer","hasAttribute","process","lazySelector","lazyComponents","_processComponents","plugins","showIfVisible","index","Utils","contains","document","documentElement","getBoundingClientRect","top","clientHeight","lazyOffset","showComponents","allComponentsDone","current","resizeComponents","matchMediaQueries","mediaQueries","updateClientHeight","init","me","querySelector","getAttribute","split","test","navigator","userAgent","onLoad","showComponentsT","throttle","domready","addEvent","window","matchMedia","LazyFill","processComponents","registerCallback","filter","j","./Component.js","./Utils.js","./plugins/HtmlSnippet.js","./plugins/Iframe.js","./plugins/Image.js",3,"ModuleBase","safeArrayGet","attribute","attr","array","Math","min","getSource","findQueryOverride","queriesOverrideAttr","getSourceWithOverride",4,"target","type","listener","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","body","innerHeight","fn","done","doc","root","readyState","poll","doScroll","setTimeout","frameElement","minDelay","lastCall","now","Date","apply","arguments","appendCss","stylesheet","css","createElement","styleSheet","sheet","cssText","appendChild","createTextNode","getElementsByTagName","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","compareDocumentPosition","b","parentNode","matches",5,"globalEval","code","script","text","removeChild","HtmlSnippetModule","show","placeholder","source","xmlhttp","XMLHttpRequest","onreadystatechange","status","innerHTML","responseText","scripts","open","send","../ModuleBase.js",6,"IframeModule","src","scrolling","frameBorder","width","height",7,"applyRatio","style","paddingBottom","ImagePlugin","newSource","imgElement","alt","../Utils.js"],"mappings":"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"}