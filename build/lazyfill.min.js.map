{"version":3,"file":"lazyfill.min.js","sources":["lazyfill.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","Component","element","handler","deferred","this","callback","prototype","execHandler","currentMediaQuery","execCallbackOnce",2,"loadComponent","component","isLoaded","deferredComponents","push","loadedComponents","showDeferredComponents","pop","requestAnimFrame","discoverComponentsWithPlugin","plugin","elements","querySelectorAll","eagerSelector","defer","hasAttribute","process","lazySelector","lazyComponents","_discoverComponents","plugins","showIfVisible","index","Utils","contains","document","documentElement","getBoundingClientRect","top","clientHeight","lazyOffset","showLazyComponents","allComponentsDone","current","resizeComponents","matchMediaQueries","mediaQueries","updateClientHeight","init","me","querySelector","getAttribute","split","test","navigator","userAgent","onLoad","showLazyComponentsT","throttle","domready","addEvent","window","matchMedia","LazyFill","discoverComponents","registerCallback","filter","j","./Component.js","./Utils.js","./plugins/HtmlSnippet.js","./plugins/Iframe.js","./plugins/Image.js",3,"ModuleBase","removeClass","className","replace","safeSplitArray","attribute","attr","array","safeArrayGet","Math","min","getSource","findQueryOverride","queriesOverrideAttr","getSourceWithOverride",4,"target","type","listener","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","body","innerHeight","fn","done","doc","root","readyState","poll","doScroll","setTimeout","frameElement","minDelay","lastCall","now","Date","apply","arguments","appendCss","stylesheet","css","createElement","styleSheet","sheet","cssText","appendChild","createTextNode","getElementsByTagName","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","compareDocumentPosition","b","parentNode","matches",5,"globalEval","code","script","text","removeChild","HtmlSnippetModule","show","placeholder","source","xmlhttp","XMLHttpRequest","onreadystatechange","status","innerHTML","responseText","scripts","open","send","../ModuleBase.js",6,"IframeModule","src","scrolling","frameBorder","width","height",7,"applyRatio","style","paddingBottom","ImagePlugin","newSource","imgElement","alt","../Utils.js"],"mappings":"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"}