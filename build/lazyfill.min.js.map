{"version":3,"file":"lazyfill.min.js","sources":["lazyfill.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","Component","element","handler","deferred","this","callback","prototype","execHandler","currentMediaQuery","execCallbackOnce",2,"loadComponent","component","isLoaded","deferredComponents","push","loadedComponents","showDeferredComponents","pop","requestAnimFrame","discoverComponentsWithPlugin","plugin","elements","querySelectorAll","eagerSelector","defer","hasAttribute","process","lazySelector","lazyComponents","_discoverComponents","plugins","showIfVisible","index","Utils","contains","document","documentElement","getBoundingClientRect","top","clientHeight","lazyOffset","showLazyComponents","allComponentsDone","current","resizeComponents","matchMediaQueries","mediaQueries","updateClientHeight","init","me","querySelector","getAttribute","split","test","navigator","userAgent","onLoad","showLazyComponentsT","throttle","domready","addEvent","window","matchMedia","LazyFill","discoverComponents","registerCallback","filter","j","./Component.js","./Utils.js","./plugins/HtmlSnippet.js","./plugins/HtmlUncomment.js","./plugins/Iframe.js","./plugins/Image.js",3,"ModuleBase","removeClass","className","replace","safeSplitArray","attribute","attr","array","safeArrayGet","Math","min","getSource","findQueryOverride","queriesOverrideAttr","getSourceWithOverride",4,"target","type","listener","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","body","innerHeight","fn","done","doc","root","readyState","poll","doScroll","setTimeout","frameElement","minDelay","lastCall","now","Date","apply","arguments","appendCss","stylesheet","css","createElement","styleSheet","sheet","cssText","appendChild","createTextNode","getElementsByTagName","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","compareDocumentPosition","b","parentNode","matches",5,"globalEval","code","script","text","removeChild","HtmlSnippetModule","show","placeholder","source","xmlhttp","XMLHttpRequest","onreadystatechange","status","innerHTML","responseText","scripts","open","send","../ModuleBase.js",6,"HtmlUncommentModule",7,"IframeModule","src","scrolling","frameBorder","width","height",8,"applyRatio","style","paddingBottom","ImagePlugin","newSource","imgElement","alt","../Utils.js"],"mappings":"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"}