{"version":3,"file":"lazyfill.min.js","sources":["lazyfill.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","Component","element","handler","deferred","this","callback","prototype","execHandler","currentMediaQuery","execCallbackOnce",2,"loadComponent","component","isLoaded","deferredComponents","push","loadedComponents","showDeferredComponents","pop","requestAnimFrame","processComponentsWithPlugin","plugin","elements","querySelectorAll","eagerSelector","defer","hasAttribute","process","lazySelector","lazyComponents","_processComponents","plugins","showIfVisible","index","Utils","contains","document","documentElement","getBoundingClientRect","top","clientHeight","lazyOffset","showComponents","allComponentsDone","current","resizeComponents","matchMediaQueries","mediaQueries","updateClientHeight","init","me","querySelector","getAttribute","split","test","navigator","userAgent","onLoad","showComponentsT","throttle","domready","addEvent","window","matchMedia","LazyFill","processComponents","registerCallback","filter","j","./Component.js","./Utils.js","./plugins/HtmlSnippet.js","./plugins/Iframe.js","./plugins/Image.js",3,"ModuleBase","safeArrayGet","attribute","attr","array","Math","min","getSource","findQueryOverride","queriesOverrideAttr","getSourceWithOverride",4,"target","type","listener","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","body","innerHeight","fn","done","doc","root","readyState","poll","doScroll","setTimeout","frameElement","minDelay","lastCall","now","Date","apply","arguments","appendCss","stylesheet","css","createElement","innerHTML","getElementsByTagName","appendChild","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","compareDocumentPosition","b","parentNode","matches",5,"globalEval","code","script","text","removeChild","HtmlSnippetModule","show","placeholder","source","xmlhttp","XMLHttpRequest","onreadystatechange","status","responseText","scripts","open","send","../ModuleBase.js",6,"IframeModule","src","scrolling","frameBorder","width","height",7,"applyRatio","style","paddingBottom","ImagePlugin","newSource","imgElement","alt","../Utils.js"],"mappings":"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"}