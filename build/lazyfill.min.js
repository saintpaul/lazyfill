/*! LazyFill - v0.2.0 - 2014-08-27 15:08 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";var c=function(a,b,c){this.element=a,this.handler=b,this.callback=void 0,this.deferred=c||!1};c.prototype.execHandler=function(a){"function"==typeof this.handler&&(this.handler=this.handler.call(null,this,a))},c.prototype.execCallbackOnce=function(){this.callback&&this.callback.call(null,this),this.callback=void 0},b.exports=c},{}],2:[function(a){"use strict";function b(a){a.deferred&&!o?r.push(a):(a.execHandler(t),a.execCallbackOnce(),p.push(a))}function c(){r.length>0?(b(r.pop()),requestAnimFrame(c)):r=[]}function d(a,c){var d,e=a.querySelectorAll(c.eagerSelector),f=0,g=!1;for(f=e.length-1;f>=0;f--)g=c.defer===!0||e[f].hasAttribute("data-defer"),d=new v(e[f],c.process,g),d.execHandler(t),b(d);for(e=a.querySelectorAll(c.lazySelector),f=e.length-1;f>=0;f--)g=c.defer===!0||e[f].hasAttribute("data-defer"),d=new v(e[f],c.process,g),d.execHandler(t),q.push(d)}function e(a){for(var b=u.length-1;b>=0;b--)d(a,u[b])}function f(a,c){var d=a.element;return l.contains(document.documentElement,d)&&d.getBoundingClientRect().top<n+m?(b(a),q[c]=null,!0):!1}function g(){for(var a=!0,b=0;b<q.length;b++){var c=q[b];null===c||f(c,b)||(a=!1)}a&&o&&(q=[])}function h(){if(n=l.clientHeight(),l.matchMediaQueries(s)!==t)for(var a=0;a<p.length;a++)p[a].execHandler(t)}function i(){n=l.clientHeight()}function j(){var a=document.querySelector("script[data-media-queries]");a&&(s=a.getAttribute("data-media-queries").split(",")),l.matchMediaQueries(s),/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile/g.test(navigator.userAgent)&&(m=1e3),e(document)}function k(){o=!0,requestAnimFrame(c),w(),requestAnimFrame(w)}var l=a("./Utils.js"),m=500,n=l.clientHeight(),o=!1,p=[],q=[],r=[],s=["only all","(min-width: 768px)","(min-width: 1025px)"],t=0,u=[a("./plugins/Image.js"),a("./plugins/Iframe.js"),a("./plugins/HtmlSnippet.js")],v=a("./Component.js"),w=l.throttle(g,20);!function(){l.domready(j),l.addEvent(window,"load",k),l.addEvent(window,"scroll",w),l.addEvent(window,"touchmove",w),window.matchMedia?l.addEvent(window,"resize",l.throttle(h,20)):l.addEvent(window,"resize",l.throttle(i,20))}();var x={processComponents:function(a){e(a),w()},registerCallback:function(a,b){for(var c=p.length-1;c>=0;c--)a(p[c].element)&&b(p[c].element);for(var d=q.length-1;d>=0;d--)q[d]&&a(q[d].element)&&(q[d].callback=b)}};window.LazyFill=x},{"./Component.js":1,"./Utils.js":4,"./plugins/HtmlSnippet.js":5,"./plugins/Iframe.js":6,"./plugins/Image.js":7}],3:[function(a,b){"use strict";var c=a("./Utils.js"),d={safeArrayGet:function(a,b,c){var d=a.getAttribute(b);if(null===d)return null;var e=d.split(",");return 0===e.length?null:e[Math.min(c,e.length-1)]},getSource:function(a,b){return d.safeArrayGet(a,"data-sources",b)},findQueryOverride:function(a,b){var d=a.getAttribute("data-media-queries");return d&&(b=c.matchMediaQueries(d.split(","))),b},getSourceWithOverride:function(a,b){return b=d.findQueryOverride(a,b),d.getSource(a,b)}};b.exports=d},{"./Utils.js":4}],4:[function(a,b){"use strict";var c={addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},removeEvent:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)},clientHeight:function(){return document.documentElement.clientHeight>=0?document.documentElement.clientHeight:document.body&&document.body.clientHeight>=0?document.body.clientHeight:window.innerHeight>=0?window.innerHeight:0},domready:function(a){var b=!1,d=!0,e=window.document,f=e.documentElement,g=function(d){("readystatechange"!==d.type||"complete"===e.readyState)&&(c.removeEvent("load"===d.type?window:document,d.type,g),!b&&(b=!0)&&a.call(window,d.type||d))},h=function(){try{f.doScroll("left")}catch(a){return void setTimeout(h,50)}g("poll")};if("complete"===e.readyState)a.call(window,"lazy");else{if(!e.addEventListener&&f.doScroll){try{d=!window.frameElement}catch(i){}d&&h()}c.addEvent(document,"DOMContentLoaded",g),c.addEvent(document,"readystatechange",g),c.addEvent(window,"load",g)}},throttle:function(a,b){var c=0;return function(){var d=+new Date;b>d-c||(c=d,a.apply(this,arguments))}},appendCss:function(a){var b=document.createElement("style");b.type="text/css",b.innerHTML=a,document.getElementsByTagName("head")[0].appendChild(b)}};window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},c.contains=document.documentElement.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!1)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},c.matchMediaQueries=void 0!==window.matchMedia?function(a){return a.length>0?a.length-1:0}:function(a){for(var b=a.length-1;b>=0;b--)if(window.matchMedia(a[b]).matches)return b;return 0},b.exports=c},{}],5:[function(a,b){"use strict";function c(a){var b=document.createElement("script");b.text=a,document.getElementsByTagName("head")[0].appendChild(b).parentNode.removeChild(b)}var d=a("../ModuleBase.js"),e={show:function(a,b){var e=a.element,f=d.getSourceWithOverride(e,b),g=new XMLHttpRequest;return g.onreadystatechange=function(){if(4===g.readyState&&200===g.status){e.innerHTML=g.responseText;for(var a=e.querySelectorAll("script"),b=0;b<a.length;b++)c(a[b].innerHTML)}},g.open("GET",f,!0),void g.send()},process:function(){return e.show},eagerSelector:".eager-html-snippet",lazySelector:".lazy-html-snippet"};b.exports=e},{"../ModuleBase.js":3}],6:[function(a,b){"use strict";var c=a("../ModuleBase.js"),d={show:function(a,b){var e=a.element,f=c.getSourceWithOverride(e,b);if(""===f||null===f)return d.show;var g=document.createElement("iframe");return g.src=f,g.scrolling=e.getAttribute("data-scrolling")||"no",g.frameBorder=e.getAttribute("data-frameborder")||0,g.width=e.getAttribute("data-frame-width"),g.height=e.getAttribute("data-frame-height"),void e.appendChild(g)},process:function(){return d.show},eagerSelector:".eager-iframe",lazySelector:".lazy-iframe",defer:!0};b.exports=d},{"../ModuleBase.js":3}],7:[function(a,b){"use strict";function c(a,b){var c=a.element;b=d.findQueryOverride(c,b),c.style.paddingBottom=d.safeArrayGet(c,"data-ratios",b)}var d=a("../ModuleBase.js"),e=a("../Utils.js");!function(){var a='@charset "UTF-8";.eager-responsive-image.fluid, .lazy-responsive-image.fluid {display: block;position: relative;}.eager-responsive-image.fluid img, .lazy-responsive-image.fluid img {position: absolute;top:0;left:0;width: 100%}';e.appendCss(a)}();var f={show:function(a,b){var e=a.element;b=d.findQueryOverride(e,b);var g=d.getSource(e,b);if(null===g||a.imgElement&&g===a.imgElement.src)return f.show;if(c(a,b),!a.imgElement){var h=e.getElementsByTagName("img")[0];if(!h){var i=e.getAttribute("data-alt");h=document.createElement("img"),i&&(h.alt=i),e.appendChild(h)}a.imgElement=h}return a.imgElement.src=g,f.show},process:function(a,b){return c(a,b),f.show},eagerSelector:".eager-responsive-image",lazySelector:".lazy-responsive-image"};b.exports=f},{"../ModuleBase.js":3,"../Utils.js":4}]},{},[2]);
//# sourceMappingURL=lazyfill.min.js.map